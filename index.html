<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>60 ê°€ì¹˜ ë‚˜ì¹¨ë°˜ - ë°˜ì‘í˜• ì—ë””ì…˜</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap');
        
        :root {
            --primary: #3b82f6;
            --primary-dark: #2563eb;
            --bg-gradient: linear-gradient(135deg, #f0f4f8 0%, #d9e2ec 100%);
        }

        body { 
            font-family: 'Noto Sans KR', sans-serif; 
            background: var(--bg-gradient);
            min-height: 100vh;
            -webkit-tap-highlight-color: transparent;
        }
        
        /* ë°˜ì‘í˜• ê·¸ë¦¬ë“œ ì‹œìŠ¤í…œ */
        .card-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); 
            gap: 12px; 
        }

        @media (min-width: 640px) {
            .card-grid { 
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
                gap: 20px; 
            }
        }

        /* 3D Flip Effect */
        .flip-card {
            background-color: transparent;
            perspective: 1000px;
            aspect-ratio: 1 / 1.4;
            cursor: pointer;
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
            transform-style: preserve-3d;
        }

        .flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 16px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.06);
            border: 1px solid rgba(255,255,255,0.4);
        }

        .flip-card-front {
            background: #ffffff;
            color: #334e68;
        }

        .flip-card-back {
            background: linear-gradient(145deg, var(--primary), var(--primary-dark));
            color: white;
            transform: rotateY(180deg);
        }

        /* ì„ íƒ íš¨ê³¼ */
        .selected-wrapper {
            box-shadow: 0 0 0 4px #60a5fa, 0 15px 30px rgba(37, 99, 235, 0.3) !important;
            border-radius: 20px;
        }

        .stage-transition { transition: opacity 0.4s ease; }
        
        /* í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ ë³´í˜¸ */
        .safe-bottom { padding-bottom: 120px; }

        /* ëª¨ë°”ì¼ í…ìŠ¤íŠ¸ ìµœì í™” */
        @media (max-width: 640px) {
            .card-title { font-size: 1.1rem; }
            .card-desc { font-size: 0.75rem; line-height: 1.3; }
        }
    </style>
</head>
<body class="p-4 sm:p-6 md:p-10">
    <div id="app" class="max-w-6xl mx-auto">
        <!-- Header -->
        <header class="mb-8 sm:mb-12 text-center">
            <h1 class="text-3xl sm:text-5xl font-black text-slate-800 tracking-tight mb-3">ğŸ’ ë‚˜ì˜ 60 ê°€ì¹˜ ë‚˜ì¹¨ë°˜</h1>
            <p class="text-slate-500 text-sm sm:text-lg">ì¹´ë“œë¥¼ í„°ì¹˜í•´ ë’¤ì§‘ê³ , ë‹¹ì‹ ì˜ í•µì‹¬ ê°€ì¹˜ë¥¼ ê³¨ë¼ë³´ì„¸ìš”.</p>
        </header>

        <!-- Stage 1: Selection -->
        <div id="stage1" class="stage-transition safe-bottom">
            <div class="bg-white/60 backdrop-blur-xl rounded-[2rem] sm:rounded-[3rem] shadow-xl p-5 sm:p-10 mb-8 border border-white/50">
                <div class="flex flex-col sm:flex-row justify-between items-center mb-8 gap-4">
                    <div class="text-center sm:text-left">
                        <h2 class="text-xl sm:text-2xl font-bold text-slate-800">1ë‹¨ê³„: ê°€ì¹˜ íƒìƒ‰</h2>
                        <p class="text-slate-500 text-xs sm:text-sm">ì„¤ëª…ì„ ì½ê³  10ê°œ ì´ìƒ ì„ íƒí•˜ì„¸ìš”.</p>
                    </div>
                    <div class="bg-blue-600 px-6 sm:px-8 py-2 sm:py-3 rounded-full shadow-lg flex items-center gap-3">
                        <span id="counter" class="text-2xl sm:text-3xl font-black text-white">0</span>
                        <div class="h-5 w-px bg-blue-400"></div>
                        <span class="text-blue-50 text-[10px] sm:text-xs font-bold uppercase tracking-widest">Selected</span>
                    </div>
                </div>
                
                <div id="cardContainer" class="card-grid">
                    <!-- Cards will be injected by JS -->
                </div>
            </div>
            
            <!-- Mobile Sticky Button Container -->
            <div class="fixed bottom-0 left-0 w-full p-4 sm:p-8 bg-gradient-to-t from-[#d9e2ec] via-[#d9e2ec]/90 to-transparent pointer-events-none">
                <div class="max-w-6xl mx-auto flex justify-center pointer-events-auto">
                    <button onclick="goToStage2()" id="nextBtn" class="w-full sm:w-auto bg-slate-400 text-white px-10 sm:px-20 py-4 sm:py-5 rounded-2xl font-bold shadow-2xl transition-all cursor-not-allowed opacity-90 backdrop-blur-md" disabled>
                        ê°€ì¹˜ë¥¼ ë” ì„ íƒí•´ì£¼ì„¸ìš”
                    </button>
                </div>
            </div>
        </div>

        <!-- Stage 2: Filtering -->
        <div id="stage2" class="hidden stage-transition safe-bottom">
            <div class="bg-white/80 backdrop-blur-xl rounded-[2rem] sm:rounded-[3rem] shadow-xl p-6 sm:p-10 mb-8 border border-white">
                <h2 class="text-2xl sm:text-3xl font-bold text-slate-800 mb-2 text-center">2ë‹¨ê³„: í•µì‹¬ ê°€ì¹˜ ì••ì¶•</h2>
                <p class="text-blue-600 text-sm sm:text-lg font-medium mb-8 text-center">ê°€ì¥ ì†Œì¤‘í•œ 5ê°€ì§€ë§Œ ë‚¨ê¸°ê³  ì œì™¸í•˜ì„¸ìš”.</p>
                <div id="filterContainer" class="card-grid"></div>
            </div>
            <div class="fixed bottom-0 left-0 w-full p-4 sm:p-8 bg-gradient-to-t from-[#d9e2ec] via-[#d9e2ec]/90 to-transparent flex flex-col sm:flex-row justify-center items-center gap-4">
                <button onclick="backToStage1()" class="text-slate-500 font-bold hover:text-slate-800 transition-colors py-2 px-4 order-2 sm:order-1">â† ì´ì „ ë‹¨ê³„</button>
                <button onclick="finalize()" id="finalizeBtn" class="w-full sm:w-auto bg-blue-600 text-white px-10 sm:px-16 py-4 sm:py-5 rounded-2xl font-bold shadow-2xl hover:bg-blue-700 transition-all order-1 sm:order-2">
                    ê²°ê³¼ í™•ì¸í•˜ê¸°
                </button>
            </div>
        </div>

        <!-- Stage 3: Result -->
        <div id="result" class="hidden stage-transition">
            <div class="bg-white rounded-[2.5rem] sm:rounded-[4rem] shadow-2xl p-6 sm:p-16 text-center border border-white relative overflow-hidden mb-10">
                <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-blue-400 via-indigo-500 to-blue-400"></div>
                <div class="inline-block p-4 sm:p-6 bg-blue-50 rounded-full mb-6 sm:mb-8">
                    <span class="text-4xl sm:text-6xl">ğŸ†</span>
                </div>
                <h2 class="text-2xl sm:text-4xl font-black text-slate-900 mb-8 tracking-tight">ë‹¹ì‹ ì˜ ì¸ìƒì„ ë°íˆëŠ” 5ê°€ì§€ ê°€ì¹˜</h2>
                
                <div id="finalValues" class="grid grid-cols-2 sm:flex sm:flex-wrap justify-center gap-4 sm:gap-6 mb-12">
                    <!-- Final Result Cards -->
                </div>
                
                <div class="bg-slate-50 p-6 sm:p-12 rounded-[2rem] sm:rounded-[3rem] text-left border border-slate-200 max-w-4xl mx-auto shadow-inner">
                    <h3 class="font-bold text-slate-900 text-lg sm:text-2xl mb-4 sm:mb-6 flex items-center gap-3">
                        <span class="bg-blue-600 w-1.5 sm:w-2 h-6 sm:h-8 rounded-full"></span>
                        ë‚˜ì˜ ê°€ì¹˜ ì² í•™ ë¶„ì„
                    </h3>
                    <div id="aiAnalysis" class="text-slate-700 leading-relaxed text-sm sm:text-xl space-y-4 sm:space-y-6"></div>
                </div>
                
                <button onclick="resetApp()" class="mt-10 sm:mt-16 text-slate-400 hover:text-blue-600 font-medium transition-colors">
                    ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì‹œì‘í•˜ê¸°
                </button>
            </div>
        </div>
    </div>

    <script>
        // Sound Engine
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        function playSound(type) {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const osc = audioCtx.createOscillator();
            const gain = audioCtx.createGain();
            osc.connect(gain);
            gain.connect(audioCtx.destination);
            const now = audioCtx.currentTime;
            if (type === 'flip') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(400, now); osc.frequency.exponentialRampToValueAtTime(100, now + 0.1);
                gain.gain.setValueAtTime(0.1, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now); osc.stop(now + 0.1);
            } else if (type === 'select') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(800, now); osc.frequency.exponentialRampToValueAtTime(1200, now + 0.05);
                gain.gain.setValueAtTime(0.1, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.15);
                osc.start(now); osc.stop(now + 0.15);
            } else if (type === 'deselect') {
                osc.type = 'sine'; osc.frequency.setValueAtTime(600, now); osc.frequency.exponentialRampToValueAtTime(300, now + 0.1);
                gain.gain.setValueAtTime(0.1, now); gain.gain.exponentialRampToValueAtTime(0.01, now + 0.1);
                osc.start(now); osc.stop(now + 0.1);
            } else if (type === 'success') {
                [523.25, 659.25, 783.99, 1046.50].forEach((freq, i) => {
                    const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
                    o.type = 'triangle'; o.connect(g); g.connect(audioCtx.destination);
                    o.frequency.setValueAtTime(freq, now + i * 0.1);
                    g.gain.setValueAtTime(0.1, now + i * 0.1); g.gain.exponentialRampToValueAtTime(0.01, now + i * 0.1 + 0.4);
                    o.start(now + i * 0.1); o.stop(now + i * 0.1 + 0.4);
                });
            }
        }

        const allValues = [
            { name: "ì„±ì¥", desc: "ëŠì„ì—†ì´ ë°°ìš°ê³  ì–´ì œë³´ë‹¤ ì„±ìˆ™í•œ ë‚´ê°€ ë˜ê¸° ìœ„í•´ ì •ì§„í•©ë‹ˆë‹¤." },
            { name: "ë„ì „", desc: "ì‹¤íŒ¨ë¥¼ ë‘ë ¤ì›Œí•˜ì§€ ì•Šê³  ìƒˆë¡œìš´ ì˜ì—­ì— ê¸°êº¼ì´ ë°œì„ ë‚´ë”›ìŠµë‹ˆë‹¤." },
            { name: "ì „ë¬¸ì„±", desc: "ë‚´ê°€ ì„ íƒí•œ ë¶„ì•¼ì—ì„œ íƒ€ì˜ ì¶”ì¢…ì„ ë¶ˆí—ˆí•˜ëŠ” ì‹¤ë ¥ì„ ìŒ“ìŠµë‹ˆë‹¤." },
            { name: "ììœ ", desc: "ë‚´ ì‚¶ì˜ ì£¼ì¸ì´ ë˜ì–´ ìŠ¤ìŠ¤ë¡œ ì„ íƒí•˜ê³  ì±…ì„ì§€ëŠ” ì‚¶ì„ ì§€í–¥í•©ë‹ˆë‹¤." },
            { name: "ì„ í•œ ì˜í–¥ë ¥", desc: "ë‚˜ì˜ ì¡´ì¬ì™€ í–‰ë™ì´ íƒ€ì¸ì—ê²Œ ê¸ì •ì ì¸ ë³€í™”ë¥¼ ì¼ìœ¼í‚¤ê¸¸ ë°”ëë‹ˆë‹¤." },
            { name: "ê°€ì¡±", desc: "ì–¸ì œë‚˜ ë‚´ í¸ì´ ë˜ì–´ì£¼ëŠ” ì†Œì¤‘í•œ ì‚¬ëŒë“¤ì„ ê°€ì¥ ìš°ì„ ìˆœìœ„ì— ë‘¡ë‹ˆë‹¤." },
            { name: "ê±´ê°•", desc: "ëª¸ê³¼ ë§ˆìŒì˜ ì—ë„ˆì§€ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒì´ ëª¨ë“  ì‚¶ì˜ ê¸°ì´ˆì„ì„ ë¯¿ìŠµë‹ˆë‹¤." },
            { name: "ê²¸ì†", desc: "ìì‹ ì˜ ì„±ì·¨ë¥¼ ê³¼ì‹œí•˜ì§€ ì•Šê³  ëŠ˜ ë°°ìš°ëŠ” ìì„¸ë¥¼ ìœ ì§€í•©ë‹ˆë‹¤." },
            { name: "ê²½ì²­", desc: "ë‚´ ì£¼ì¥ì„ ì•ì„¸ìš°ê¸°ë³´ë‹¤ íƒ€ì¸ì˜ ì§„ì‹¬ì–´ë¦° ì†Œë¦¬ì— ê·€ë¥¼ ê¸°ìš¸ì…ë‹ˆë‹¤." },
            { name: "ê³µì •", desc: "ì–´ë– í•œ ìƒí™©ì—ì„œë„ í¸ê²¬ ì—†ì´ ì •ë‹¹í•˜ê³  ë°”ë¥´ê²Œ í–‰ë™í•©ë‹ˆë‹¤." },
            { name: "ê´€ê³„", desc: "ì£¼ë³€ ì‚¬ëŒë“¤ê³¼ ê¹Šì€ ìœ ëŒ€ê°ì„ í˜•ì„±í•˜ê³  ì†Œí†µí•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤." },
            { name: "ê°ì‚¬", desc: "ë‚˜ì—ê²Œ ì£¼ì–´ì§„ ì‘ì€ ì¼ìƒì—ì„œë„ ê¸°ì¨ê³¼ ê³ ë§ˆì›€ì„ ì°¾ì•„ëƒ…ë‹ˆë‹¤." },
            { name: "ëˆê¸°", desc: "í•œë²ˆ ì‹œì‘í•œ ì¼ì€ ì–´ë– í•œ ë‚œê´€ì´ ìˆì–´ë„ ëê¹Œì§€ ë§ˆë¬´ë¦¬ì§€ì–´ëƒ…ë‹ˆë‹¤." },
            { name: "ë‚˜ëˆ”", desc: "ë‚´ê°€ ê°€ì§„ ì§€ì‹, ì‹œê°„, ë¬¼ì§ˆì„ ì£¼ë³€ê³¼ ì•„ë‚Œì—†ì´ ê³µìœ í•©ë‹ˆë‹¤." },
            { name: "ë‚™ì²œ", desc: "ë°ê³  ê¸ì •ì ì¸ íƒœë„ë¡œ ì‚¶ì˜ íŒŒë„ë¥¼ ìœ ì—°í•˜ê²Œ ë„˜ê¹ë‹ˆë‹¤." },
            { name: "ë‹¤ì–‘ì„±", desc: "ì„œë¡œ ë‹¤ë¥¸ ìƒê°ê³¼ ê°€ì¹˜ë¥¼ í‹€ë¦¼ì´ ì•„ë‹Œ ë‹¤ë¦„ìœ¼ë¡œ ì¡´ì¤‘í•©ë‹ˆë‹¤." },
            { name: "ë„ë•", desc: "ëˆ„ê°€ ë³´ì§€ ì•Šì•„ë„ ì–‘ì‹¬ì— ì–´ê¸‹ë‚˜ì§€ ì•ŠëŠ” ì˜¬ë°”ë¥¸ ê¸¸ì„ ê±·ìŠµë‹ˆë‹¤." },
            { name: "ë„ì›€", desc: "ë„ì›€ì´ í•„ìš”í•œ ê³³ì— ê¸°êº¼ì´ ì†ì„ ë‚´ë°€ì–´ í•¨ê»˜ ë‚˜ì•„ê°‘ë‹ˆë‹¤." },
            { name: "ë…ë¦½", desc: "ì˜ì¡´í•˜ì§€ ì•Šê³  ìŠ¤ìŠ¤ë¡œì˜ í˜ìœ¼ë¡œ ì¸ìƒì„ ê°œì²™í•´ ë‚˜ê°‘ë‹ˆë‹¤." },
            { name: "ëª…ì˜ˆ", desc: "ìì‹ ê³¼ ê³µë™ì²´ì— ë¶€ë„ëŸ½ì§€ ì•Šì€ í’ˆìœ„ ìˆëŠ” ì‚¶ì„ ì¶”êµ¬í•©ë‹ˆë‹¤." },
            { name: "ëª¨í—˜", desc: "ì•ˆì •ë³´ë‹¤ëŠ” ë‚¯ì„  ê³³ì—ì„œì˜ ì§œë¦¿í•œ ê²½í—˜ê³¼ ë°œê²¬ì„ ì„ í˜¸í•©ë‹ˆë‹¤." },
            { name: "ëª°ì…", desc: "ì¡ë…ì„ ë²„ë¦¬ê³  í˜„ì¬ í•˜ê³  ìˆëŠ” ì¼ì— ì˜¨ ì •ì‹ ì„ ì§‘ì¤‘í•©ë‹ˆë‹¤." },
            { name: "ë¬´ì†Œìœ ", desc: "ë¶ˆí•„ìš”í•œ ì†Œìœ ë¥¼ ì¤„ì´ê³  ë‚´ë©´ì˜ í’ìš”ë¡œì›€ì— ì§‘ì¤‘í•©ë‹ˆë‹¤." },
            { name: "ë³€í™”", desc: "ìµìˆ™í•¨ì— ì•ˆì£¼í•˜ì§€ ì•Šê³  ëŠì„ì—†ì´ ìƒˆë¡œìš´ ëª¨ìŠµìœ¼ë¡œ ì§„í™”í•©ë‹ˆë‹¤." },
            { name: "ë°°ë ¤", desc: "ë‚˜ë³´ë‹¤ ìƒëŒ€ë°©ì˜ ë§ˆìŒì„ ë¨¼ì € í—¤ì•„ë¦¬ê³  ë”°ëœ»í•˜ê²Œ ëŒ€í•©ë‹ˆë‹¤." },
            { name: "ë°°ì›€", desc: "ì§€ì‹ê³¼ ì§€í˜œë¥¼ í–¥í•œ ê°ˆêµ¬ë¡œ í‰ìƒ ë™ì•ˆ ê³µë¶€í•˜ëŠ” ì‚¶ì„ ì‚½ë‹ˆë‹¤." },
            { name: "ë´‰ì‚¬", desc: "ì„¸ìƒì„ ìœ„í•´ í—Œì‹ í•˜ë©° ì‚¶ì˜ ì§„ì •í•œ ë³´ëŒê³¼ ê°€ì¹˜ë¥¼ ì°¾ìŠµë‹ˆë‹¤." },
            { name: "ë¶€ìœ ", desc: "ììœ ë¡œìš´ ì‚¶ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë¬¼ì§ˆì , ì •ì‹ ì  í’ìš”ë¥¼ ìŒ“ìŠµë‹ˆë‹¤." },
            { name: "ì‚¬ë‘", desc: "ë‚˜ë¥¼ ì‚¬ë‘í•˜ê³ , íƒ€ì¸ì„ ë”°ëœ»í•˜ê²Œ í’ˆìœ¼ë©° ì¡°ê±´ ì—†ì´ ì•„ë‚ë‹ˆë‹¤." },
            { name: "ì„±ì‹¤", desc: "ê±°ì°½í•œ ëª©í‘œë³´ë‹¤ ì˜¤ëŠ˜ì˜ í•œ ê±¸ìŒì„ ë¬µë¬µíˆ ì„±ì‹¤í•˜ê²Œ ê±·ìŠµë‹ˆë‹¤." },
            { name: "ì„±ì·¨", desc: "ìŠ¤ìŠ¤ë¡œ ì„¸ìš´ ëª©í‘œë¥¼ ë‹¬ì„±í–ˆì„ ë•Œ ê°€ì¥ í° í¬ì—´ì„ ëŠë‚ë‹ˆë‹¤." },
            { name: "ì†Œì†ê°", desc: "ê³µë™ì²´ ì•ˆì—ì„œ í•¨ê»˜ í˜‘ë ¥í•˜ë©° ì¡°í™”ë¥¼ ì´ë£¨ëŠ” ê²ƒì„ ì¤‘ì‹œí•©ë‹ˆë‹¤." },
            { name: "ì‹ ë¢°", desc: "ë§ê³¼ í–‰ë™ì˜ ì¼ì¹˜ë¥¼ í†µí•´ ëˆ„êµ¬ë‚˜ ë¯¿ê³  ê¸°ëŒˆ ìˆ˜ ìˆëŠ” ì‚¬ëŒì´ ë©ë‹ˆë‹¤." },
            { name: "ì•ˆì •", desc: "ê¸‰ê²©í•œ ë³€í™”ë³´ë‹¤ í‰ì˜¨í•˜ê³  ì˜ˆì¸¡ ê°€ëŠ¥í•œ ì‚¶ì—ì„œ í¸ì•ˆí•¨ì„ ëŠë‚ë‹ˆë‹¤." },
            { name: "ì• êµ­", desc: "ë‚´ê°€ ì†í•œ ì‚¬íšŒì™€ êµ­ê°€ì˜ ë°œì „ì„ ìœ„í•´ ì±…ì„ê°ì„ ê°–ìŠµë‹ˆë‹¤." },
            { name: "ì—´ì •", desc: "ê°€ìŠ´ ë›°ëŠ” ì¼ì„ ë§Œë‚¬ì„ ë•Œ ëª¨ë“  ì—ë„ˆì§€ë¥¼ ìŸì•„ë¶€ì–´ ì§‘ì¤‘í•©ë‹ˆë‹¤." },
            { name: "ì˜ˆìˆ ", desc: "ì¼ìƒì—ì„œ ì•„ë¦„ë‹¤ì›€ì„ ë°œê²¬í•˜ê³  ë‚˜ë§Œì˜ ë°©ì‹ìœ¼ë¡œ ì°½ì¡°í•©ë‹ˆë‹¤." },
            { name: "ìš©ê¸°", desc: "ë‘ë ¤ì›€ì´ ì—†ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‘ë ¤ì›€ì—ë„ ë¶ˆêµ¬í•˜ê³  í–‰ë™í•©ë‹ˆë‹¤." },
            { name: "ìœ ë¨¸", desc: "ì–´ë ¤ìš´ ìˆœê°„ì—ë„ ì›ƒìŒì„ ìƒì§€ ì•Šê³  ì‚¶ì„ ì¦ê²ê²Œ ë§Œë“­ë‹ˆë‹¤." },
            { name: "ìœ ëŠ¥", desc: "íƒì›”í•œ ëŠ¥ë ¥ì„ ë°œíœ˜í•˜ì—¬ ë¬¸ì œë¥¼ ëª…ì¾Œí•˜ê²Œ í•´ê²°í•´ ë‚˜ê°‘ë‹ˆë‹¤." },
            { name: "ì¸ì •", desc: "ë‚˜ì˜ ìˆ˜ê³ ì™€ íƒ€ì¸ì˜ ê°€ì¹˜ë¥¼ ì†”ì§í•˜ê²Œ ì¸ì •í•˜ê³  ì¹­ì°¬í•©ë‹ˆë‹¤." },
            { name: "ì¸ë‚´", desc: "ê²°ì‹¤ì„ ë§ºì„ ë•Œê¹Œì§€ ì„œë‘ë¥´ì§€ ì•Šê³  ì°¨ë¶„í•˜ê²Œ ê¸°ë‹¤ë¦½ë‹ˆë‹¤." },
            { name: "ì •ì§", desc: "ìì‹ ì„ ì†ì´ì§€ ì•Šê³  ëª¨ë“  ì¼ì„ ì°¸ë˜ê³  íˆ¬ëª…í•˜ê²Œ ëŒ€í•©ë‹ˆë‹¤." },
            { name: "ì •ì˜", desc: "ì‚¬íšŒì  ì•½ìë¥¼ ë³´í˜¸í•˜ê³  ê³µì •í•œ ì§ˆì„œë¥¼ ì‹¤ì²œí•˜ëŠ” ì‚¶ì„ ì‚½ë‹ˆë‹¤." },
            { name: "ì¡´ì¤‘", desc: "ìƒëŒ€ë°©ì˜ ì¸ê²©ê³¼ ê°€ì¹˜ë¥¼ ì†Œì¤‘íˆ ì—¬ê¸°ë©° ì˜ˆì˜ë¥¼ ì§€í‚µë‹ˆë‹¤." },
            { name: "ì§ˆì„œ", desc: "ì •í•´ì§„ ê·œì¹™ê³¼ ì²´ê³„ë¥¼ ì¡´ì¤‘í•˜ë©° ì¡°í™”ë¡œìš´ ì‚¬íšŒë¥¼ ë§Œë“­ë‹ˆë‹¤." },
            { name: "ì§€í˜œ", desc: "ì§€ì‹ì„ ë„˜ì–´ ë³¸ì§ˆì„ ê¿°ëš«ëŠ” í†µì°°ë ¥ìœ¼ë¡œ í˜„ëª…í•˜ê²Œ íŒë‹¨í•©ë‹ˆë‹¤." },
            { name: "ì°½ì˜", desc: "ë‹¹ì—°í•œ ê²ƒì— ì˜ë¬¸ì„ ë˜ì ¸ ìƒˆë¡œìš´ ê´€ì ê³¼ ê°€ì¹˜ë¥¼ ë§Œë“¤ì–´ëƒ…ë‹ˆë‹¤." },
            { name: "ì±…ì„", desc: "ë‚´ê°€ í•œ ë§ê³¼ í–‰ë™ì˜ ê²°ê³¼ì— ëŒ€í•´ ëê¹Œì§€ ì±…ì„ì„ ì§‘ë‹ˆë‹¤." },
            { name: "í‰í™”", desc: "ê°ˆë“±ì„ ì¹˜ìœ í•˜ê³  ë§ˆìŒì˜ ì•ˆì‹ê³¼ ì¡°í™”ë¥¼ ì°¾ì•„ ë‚˜ê°‘ë‹ˆë‹¤." },
            { name: "í•¨ê»˜", desc: "í˜¼ì ê°€ë©´ ë¹ ë¥´ì§€ë§Œ í•¨ê»˜ ê°€ë©´ ë©€ë¦¬ ê°ˆ ìˆ˜ ìˆìŒì„ ë¯¿ìŠµë‹ˆë‹¤." },
            { name: "íš¨ë„", desc: "ë¶€ëª¨ë‹˜ì„ ê³µê²½í•˜ê³  ê·¸ ì€í˜œì— ë³´ë‹µí•˜ëŠ” ë§ˆìŒì„ ì‹¤ì²œí•©ë‹ˆë‹¤." },
            { name: "íšŒë³µíƒ„ë ¥ì„±", desc: "ë„˜ì–´ì ¸ë„ ë‹¤ì‹œ ì¼ì–´ë‚˜ëŠ” ë§ˆìŒì˜ ê·¼ë ¥ì„ í‚¤ìš°ë©° ì„±ì¥í•©ë‹ˆë‹¤." },
            { name: "ì§„ì •ì„±", desc: "ê°€ë©´ì„ ì“°ì§€ ì•Šê³  ì§„ì‹¤í•œ ë‚˜ì˜ ëª¨ìŠµ ê·¸ëŒ€ë¡œ ì†Œí†µí•©ë‹ˆë‹¤." },
            { name: "í˜¸ê¸°ì‹¬", desc: "ì„¸ìƒì˜ ëª¨ë“  í˜„ìƒì— ëŒ€í•´ 'ì™œ?'ë¼ëŠ” ì§ˆë¬¸ì„ ë©ˆì¶”ì§€ ì•ŠìŠµë‹ˆë‹¤." },
            { name: "ì ˆì œ", desc: "ê³¼ìœ ë¶ˆê¸‰ì„ ê²½ê³„í•˜ë©° ìŠ¤ìŠ¤ë¡œë¥¼ ë‹¤ìŠ¤ë¦¬ê³  ì¤‘ìš©ì„ ì§€í‚µë‹ˆë‹¤." },
            { name: "ìœ ì—°ì„±", desc: "ë³€í™”í•˜ëŠ” ìƒí™©ì— ìœ ì—°í•˜ê²Œ ëŒ€ì²˜í•˜ë©° ìƒˆë¡œìš´ ëŒ€ì•ˆì„ ì°¾ì•„ëƒ…ë‹ˆë‹¤." },
            { name: "ì—¬ìœ ", desc: "ì„œë‘ë¥´ì§€ ì•Šê³  ì‚¶ì˜ ê³¼ì • ìì²´ë¥¼ ì¦ê¸°ë©° ë§ˆìŒì˜ ì‰¼í‘œë¥¼ ì°ìŠµë‹ˆë‹¤." },
            { name: "ê· í˜•", desc: "ì¼ê³¼ ì‚¶, ë‚´ë©´ê³¼ ì™¸ë©´ì˜ ê±´ê°•í•œ ì¡°í™”ë¥¼ í†µí•´ ì‚¶ì˜ ì§ˆì„ ë†’ì…ë‹ˆë‹¤." },
            { name: "ìœ ëŒ€ê°", desc: "íƒ€ì¸ê³¼ ì •ì„œì ìœ¼ë¡œ ê¹Šì´ ì—°ê²°ë˜ì–´ ì„œë¡œë¥¼ ì‘ì›í•˜ê³  ì§€ì§€í•©ë‹ˆë‹¤." }
        ];

        let selectedCards = new Set();

        function init() {
            const container = document.getElementById('cardContainer');
            allValues.forEach(item => {
                const flipCard = document.createElement('div');
                flipCard.className = "flip-card";
                flipCard.id = `card-${item.name}`;
                flipCard.innerHTML = `
                    <div class="flip-card-inner">
                        <div class="flip-card-front" onclick="handleFlip(this.parentElement.parentElement)">
                            <div class="text-[9px] text-slate-300 mb-4 tracking-widest uppercase">Tap to flip</div>
                            <div class="card-title font-bold text-slate-700">${item.name}</div>
                        </div>
                        <div class="flip-card-back">
                            <div class="card-desc text-[11px] leading-relaxed mb-4 font-medium px-1 opacity-90">${item.desc}</div>
                            <div class="flex flex-col gap-2 w-full px-1">
                                <button onclick="toggleSelect('${item.name}', event)" class="select-btn bg-white text-blue-600 py-2 rounded-xl text-xs font-bold shadow-md active:scale-95 transition-all">
                                    ì„ íƒí•˜ê¸°
                                </button>
                                <button onclick="handleFlip(this.parentElement.parentElement.parentElement.parentElement)" class="text-[9px] text-blue-100 opacity-60 mt-1 uppercase">ë’¤ì§‘ê¸°</button>
                            </div>
                        </div>
                    </div>
                `;
                container.appendChild(flipCard);
            });
        }

        function handleFlip(el) { playSound('flip'); el.classList.toggle('flipped'); }

        function toggleSelect(name, event) {
            event.stopPropagation();
            const cardEl = document.getElementById(`card-${name}`);
            const inner = cardEl.querySelector('.flip-card-inner');
            const btn = cardEl.querySelector('.select-btn');

            if (selectedCards.has(name)) {
                playSound('deselect'); selectedCards.delete(name);
                inner.classList.remove('selected-wrapper');
                btn.innerText = "ì„ íƒí•˜ê¸°";
                btn.className = "select-btn bg-white text-blue-600 py-2 rounded-xl text-xs font-bold shadow-md";
            } else {
                playSound('select'); selectedCards.add(name);
                inner.classList.add('selected-wrapper');
                btn.innerText = "ì„ íƒë¨ âœ“";
                btn.className = "select-btn bg-green-400 text-white py-2 rounded-xl text-xs font-bold shadow-inner";
            }
            updateUI();
        }

        function updateUI() {
            const count = selectedCards.size;
            document.getElementById('counter').innerText = count;
            const btn = document.getElementById('nextBtn');
            if (count >= 10) {
                btn.disabled = false;
                btn.className = "w-full sm:w-auto bg-blue-600 text-white px-10 sm:px-20 py-4 sm:py-5 rounded-2xl font-bold shadow-2xl hover:scale-105 active:scale-95 transition-all pointer-events-auto";
                btn.innerText = "ë‹¤ìŒ ë‹¨ê³„ë¡œ ê°€ê¸°";
            } else {
                btn.disabled = true;
                btn.className = "w-full sm:w-auto bg-slate-400 text-white px-10 sm:px-20 py-4 sm:py-5 rounded-2xl font-bold shadow-2xl opacity-90 pointer-events-none";
                btn.innerText = `${10 - count}ê°œ ë” ì„ íƒí•´ì£¼ì„¸ìš”`;
            }
        }

        function goToStage2() {
            playSound('success');
            document.getElementById('stage1').classList.add('hidden');
            document.getElementById('stage2').classList.remove('hidden');
            renderStage2();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function backToStage1() {
            document.getElementById('stage2').classList.add('hidden');
            document.getElementById('stage1').classList.remove('hidden');
        }

        function renderStage2() {
            const container = document.getElementById('filterContainer');
            container.innerHTML = '';
            Array.from(selectedCards).forEach((name) => {
                const item = allValues.find(v => v.name === name);
                const card = document.createElement('div');
                card.className = "bg-blue-500 text-white p-4 rounded-2xl shadow-lg flex flex-col justify-center items-center aspect-square text-center cursor-pointer hover:bg-red-500 active:scale-95 transition-all group relative overflow-hidden";
                card.innerHTML = `
                    <div class="font-bold text-lg mb-1 group-hover:opacity-0">${item.name}</div>
                    <div class="text-[9px] opacity-70 group-hover:opacity-0 line-clamp-2">${item.desc}</div>
                    <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 font-black text-sm">ì œì™¸</div>
                `;
                card.onclick = () => { playSound('deselect'); selectedCards.delete(name); renderStage2(); };
                container.appendChild(card);
            });
            
            const finalizeBtn = document.getElementById('finalizeBtn');
            if (selectedCards.size === 5) {
                finalizeBtn.disabled = false;
                finalizeBtn.className = "w-full sm:w-auto bg-green-600 text-white px-16 py-4 sm:py-5 rounded-2xl font-bold shadow-2xl hover:bg-green-700 active:scale-95 transition-all";
                finalizeBtn.innerText = "ìµœì¢… ë¶„ì„ ê²°ê³¼ ë³´ê¸°";
            } else {
                finalizeBtn.disabled = true;
                finalizeBtn.className = "w-full sm:w-auto bg-slate-400 text-white px-16 py-4 sm:py-5 rounded-2xl font-bold opacity-50";
                finalizeBtn.innerText = `í˜„ì¬ ${selectedCards.size}ê°œ (5ê°œ ì„ íƒ)`;
            }
        }

        function finalize() {
            playSound('success');
            const finalArray = Array.from(selectedCards);
            document.getElementById('stage2').classList.add('hidden');
            document.getElementById('result').classList.remove('hidden');
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            const finalDiv = document.getElementById('finalValues');
            finalArray.forEach(name => {
                const item = allValues.find(v => v.name === name);
                const card = document.createElement('div');
                card.className = "flex flex-col items-center justify-center w-full sm:w-44 h-48 sm:h-56 bg-gradient-to-br from-blue-600 to-indigo-700 text-white rounded-[1.5rem] sm:rounded-[2rem] shadow-xl p-5";
                card.innerHTML = `<div class="font-black text-xl sm:text-2xl mb-3">${item.name}</div><div class="text-[10px] sm:text-xs opacity-80 leading-relaxed font-light">${item.desc}</div>`;
                finalDiv.appendChild(card);
            });

            document.getElementById('aiAnalysis').innerHTML = `
                <p>ë‹¹ì‹ ì´ ì„ íƒí•œ <b>[${finalArray.join(', ')}]</b>ì˜ ê°€ì¹˜ë“¤ì€ ë‹¹ì‹ ì´ ì‚¶ì„ ë°”ë¼ë³´ëŠ” ê°€ì¥ ì§„ì‹¤ëœ ì‹œì„ ì…ë‹ˆë‹¤.</p>
                <p>íŠ¹íˆ <b>${finalArray[0]}</b>ê³¼(ì™€) <b>${finalArray[1]}</b>ì˜ ì¡°í•©ì€ ë‹¹ì‹ ì´ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ëŠ” ì—ë„ˆì§€ì˜ ì›ì²œì…ë‹ˆë‹¤. ì´ ê°€ì¹˜ë“¤ì€ ë‹¹ì‹ ì´ ì‚¶ì˜ í­í’ìš° ì†ì—ì„œë„ í”ë“¤ë¦¬ì§€ ì•Šê³  ë‚˜ì•„ê°ˆ ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë¿Œë¦¬ê°€ ë  ê²ƒì…ë‹ˆë‹¤.</p>
                <p class="font-black text-blue-600 mt-6 sm:mt-10 text-lg sm:text-2xl text-center">ë‹¹ì‹ ì˜ ê°€ì¹˜ê°€ ë‹¹ì‹ ì˜ ì‚¶ì„ ì™„ì„±í•©ë‹ˆë‹¤.</p>
            `;
        }

        function resetApp() { location.reload(); }
        window.onload = init;
    </script>
</body>
</html>
